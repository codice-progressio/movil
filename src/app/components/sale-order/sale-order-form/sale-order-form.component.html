<div class="card border-0 shadow" style="min-height: 500px">
  <img class="card-img-top" src="holder.js/100px180/" alt="" />
  <div class="card-body">
    <h4 class="card-title">
      {{ sale_order_service.buffer_open_draft().partner_name }}
      <a
        (click)="sale_order_service.partner_clear()"
        class="btn btn-sm btn-danger"
        href="javascript:void(0)"
        role="button"
      >
        <i class="fa fa-times-circle text-white" aria-hidden="true"></i>
      </a>
    </h4>
    <p class="card-text">
      {{ sale_order_service.buffer_open_draft().partner_home }}
      <br />
      {{
        sale_order_service.buffer_open_draft().date_order
          | date : "dd/MM/yyyy HH:mm:ss"
      }}
    </p>
    <hr />

    <app-search
      [title_search]="'Agregar producto'"
      (selected)="this.sale_order_service.product_select($event)"
      [db]="this.product_service.db"
    ></app-search>

    <div class="list-group">
      @for (line of sale_order_service.buffer_open_draft().lines; track $index)
      {

      <a
        href="javascript:void(0)"
        class="list-group-item list-group-item-action flex-column align-items-start"
      >
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1">{{ line.product }}</h5>
          <small>{{ line.quantity | number }} piezas</small>
        </div>
        <div class="d-flex w-100 justify-content-between">
          <p class="mb-1">Precio unitario</p>
          <small class="text-muted">{{ line.price_unit | currency }}</small>
        </div>
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1">Subtotal</h5>
          <h5 class="text-muted">{{ line.amount_total | currency }}</h5>
        </div>
      </a>
      }
      <a
        href="javascript:void(0)"
        class="list-group-item list-group-item-action flex-column align-items-start bg-success"
      >
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1 text-white">Total</h5>
          <h5 class="text-white">
            {{ sale_order_service.buffer_open_draft().amount_total | currency }}
          </h5>
        </div>
      </a>
    </div>
  </div>
</div>

<nav class="navbar sticky-bottom transparent">
  <div class="container-fluid justify-content-between pe-5 ps-5">
    <a
      name=""
      id=""
      class="btn btn-danger text-white btn-lg rounded-circle"
      href="javascript:void(0)"
      role="button"
    >
      <i class="fas fa-times text-white"></i>
    </a>
    <a
      name=""
      id=""
      class="btn btn-primary text-white btn-lg rounded-circle"
      href="javascript:void(0)"
      role="button"
    >
      <i class="fas fa-save text-white"></i>
    </a>
    <a
      name=""
      id=""
      class="btn btn-primary text-white btn-lg rounded-circle"
      href="javascript:void(0)"
      role="button"
    >
      <i class="fas fa-pen text-white"></i>
    </a>
    <a
      name=""
      id=""
      class="btn btn-secondary text-white btn-lg rounded-circle"
      href="javascript:void(0)"
      role="button"
    >
      <i class="fas fa-arrow-left text-white"></i>
    </a>
  </div>
</nav>
